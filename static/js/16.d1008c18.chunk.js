(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[16],{528:function(e,t,s){"use strict";s.r(t);var i=s(0),a=s.n(i),c=s(46),l=s(5);var n=()=>Object(l.jsx)("div",{children:"\u0413\u0440\u0443\u043f\u043f\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"}),d=s(265),r=s(198),o=s(120),j=s(542),m=s(541),h=s(549),b=s(268),x=s(550);var p=e=>{const{name:t,suffix:s,subTitle:i,id:a,src:c,onNameClick:n}=e;return Object(l.jsx)("div",{className:"avatar-status d-flex align-items-center",children:Object(l.jsxs)("div",{className:"ml-2",children:[Object(l.jsxs)("div",{children:[n?Object(l.jsx)("div",{onClick:()=>n({name:t,subTitle:i,src:c,id:a}),className:"avatar-status-name clickable",children:t}):Object(l.jsxs)("div",{className:"avatar-status-name",children:["\u0418\u043c\u044f: ",t]}),Object(l.jsx)("span",{children:s})]}),Object(l.jsxs)("div",{className:"text-muted avatar-status-subtitle",children:["\u041f\u043e\u0447\u0442\u0430: ",i]})]})})},O=s(447),u=s(481),v=s(455),N=s(546),f=s(462),C=s(460),g=s(547),y=s(548);class S extends i.Component{render(){const{data:e,visible:t,close:s}=this.props;return Object(l.jsxs)(O.a,{width:300,placement:"right",onClose:s,closable:!0,visible:t,children:[Object(l.jsxs)("div",{className:"text-center mt-3",children:[Object(l.jsx)("h3",{className:"mt-2 mb-0",children:null===e||void 0===e?void 0:e.name}),Object(l.jsx)("span",{className:"text-muted",children:null===e||void 0===e?void 0:e.email})]}),Object(l.jsx)(u.a,{dashed:!0}),Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"Account details"}),Object(l.jsxs)("p",{children:[Object(l.jsx)(v.a,{}),Object(l.jsxs)("span",{className:"ml-3 text-dark",children:["id: ",null===e||void 0===e?void 0:e.id]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(N.a,{}),Object(l.jsxs)("span",{className:"ml-3 text-dark",children:["userName: ",null===e||void 0===e?void 0:e.username]})]})]}),Object(l.jsxs)("div",{className:"mt-5",children:[Object(l.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"CONTACT"}),Object(l.jsxs)("p",{children:[Object(l.jsx)(f.a,{}),Object(l.jsx)("span",{className:"ml-3 text-dark",children:null===e||void 0===e?void 0:e.phone})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(C.a,{}),Object(l.jsx)("span",{className:"ml-3 text-dark",children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(g.a,{}),Object(l.jsx)("span",{className:"ml-3 text-dark",children:null===e||void 0===e?void 0:e.address.city})]})]}),Object(l.jsxs)("div",{className:"mt-5",children:[Object(l.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"Social profiles"}),Object(l.jsxs)("p",{children:[Object(l.jsx)(y.a,{}),Object(l.jsx)("a",{href:"/#",className:"ml-3 text-dark",children:null===e||void 0===e?void 0:e.website})]})]})]})}}var w=S,k=s(51);class I extends i.Component{constructor(){super(...arguments),this.state={clients:[],clientProfileVisible:!1,selectedClient:null,loading:!0},this.searchMovies=()=>{this.setState({loading:!0}),fetch("https://jsonplaceholder.typicode.com/users").then((e=>e.json())).then((e=>{this.setState({clients:e,loading:!1})})).catch((e=>{console.error(e),this.setState({loading:!1})}))},this.deleteClient=e=>{this.setState({clients:this.state.clients.filter((t=>t.id!==e))}),d.b.success({content:"Deleted client ".concat(e),duration:2})},this.showClientProfile=e=>{this.setState({clientProfileVisible:!0,selectedClient:e})},this.closeClientProfile=()=>{this.setState({clientProfileVisible:!1,selectedClient:null})}}componentDidMount(){this.searchMovies()}render(){const{clients:e,clientProfileVisible:t,selectedClient:s}=this.state,i=[{title:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",dataIndex:"name",render:(e,t)=>Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)(p,{name:t.name,subTitle:t.email})}),sorter:{compare:(e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}},{title:"\u0410\u0434\u0440\u0435\u0441",dataIndex:"address",sorter:{compare:(e,t)=>e.address.length-t.address.length},render:(e,t)=>Object(l.jsx)("div",{className:"d-flex",children:t.address.city})},{title:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",dataIndex:"company",render:(e,t)=>Object(l.jsx)("div",{className:"d-flex",children:t.company.name}),sorter:{compare:(e,t)=>e.company.length-t.company.length}},{title:"Actions",dataIndex:"actions",render:(e,t)=>Object(l.jsxs)("div",{children:[Object(l.jsx)(r.a,{title:"Link to",children:Object(l.jsx)(k.b,{to:"/app/main/clients/".concat(t.id),children:Object(l.jsx)(h.a,{className:"mr-3",style:{fontSize:"24px",color:"#389e0d"}})})}),Object(l.jsx)(r.a,{title:"View",children:Object(l.jsx)(o.a,{type:"primary",className:"mr-2",icon:Object(l.jsx)(b.a,{}),onClick:()=>{this.showClientProfile(t)},size:"small"})}),Object(l.jsx)(r.a,{title:"Delete",children:Object(l.jsx)(o.a,{danger:!0,icon:Object(l.jsx)(x.a,{}),onClick:()=>{this.deleteClient(t.id)},size:"small"})})]})}];return Object(l.jsxs)(j.a,{bodyStyle:{padding:"0px"},children:[Object(l.jsx)(m.a,{columns:i,dataSource:e,rowKey:"id"}),Object(l.jsx)(w,{data:s,visible:t,close:()=>{this.closeClientProfile()}})]})}}var T=I,P=s(323),L=s(543),z=s(516),V=s(517),D=s(30);class M extends a.a.Component{constructor(){super(...arguments),this.avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",this.state={id:this.props.match.params.clientId,client:{},loading:!0},this.getCurrentClient=()=>{this.setState({loading:!0}),fetch("https://jsonplaceholder.typicode.com/users/".concat(this.state.id)).then((e=>e.json())).then((e=>{this.setState({client:e,loading:!1})})).catch((e=>{console.error(e),this.setState({loading:!1})}))},this.putClientInfo=e=>{const t=this.state.client;this.setState({loading:!0}),fetch("https://fakerapi.it/api/v1/persons?_locale=fr_FR",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{setTimeout((()=>{console.log(e),this.setState({loading:!1})}),1e3)})).catch((e=>{setTimeout((()=>{console.error(e),this.setState({loading:!1})}),1e3)})).finally((()=>{e&&(window.location.href=e)}))}}componentDidMount(){this.getCurrentClient()}render(){var e,t,s;const{client:i,loading:a}=this.state;return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)(P.a,{size:"large",className:"mt-4 center",style:{marginLeft:"50%",marginTop:"50%"}}):Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)(L.a,{name:"basicInformation",initialValues:{name:i.name,email:i.email,username:i.username,phoneNumber:i.phone,website:i.website},children:Object(l.jsx)(z.a,{children:Object(l.jsxs)(V.a,{xs:24,sm:24,md:24,lg:16,children:[Object(l.jsxs)(z.a,{gutter:D.c,children:[Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Name:",name:"name",children:i.name})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Username",name:"username",children:i.username})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Email",name:"email",children:i.email})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Phone Number",name:"phoneNumber",children:i.phone})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Website",name:"website",children:i.website})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:24,children:Object(l.jsx)(L.a.Item,{label:"Street",name:"street",children:null===i||void 0===i||null===(e=i.address)||void 0===e?void 0:e.street})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"City",name:"city",children:null===i||void 0===i||null===(t=i.address)||void 0===t?void 0:t.city})}),Object(l.jsx)(V.a,{xs:24,sm:24,md:12,children:Object(l.jsx)(L.a.Item,{label:"Zip code",name:"zipcode",children:null===i||void 0===i||null===(s=i.address)||void 0===s?void 0:s.zipcode})})]}),Object(l.jsx)(o.a,{type:"primary",htmlType:"submit",onClick:()=>{this.putClientInfo("/clientsList")},children:"Save Change"})]})})})})})}}var A=M;t.default=e=>{let{match:t}=e;return Object(l.jsxs)(c.d,{children:[Object(l.jsx)(c.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/clientsList")}),Object(l.jsx)(c.b,{path:"".concat(t.url,"/clientsList"),component:T}),Object(l.jsx)(c.b,{path:"".concat(t.url,"/:clientId"),component:A}),Object(l.jsx)(c.b,{path:"".concat(t.url,"/clientsGroups"),component:n})]})}}}]);
//# sourceMappingURL=16.d1008c18.chunk.js.map